<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Ai.html">
<link rel="next" href="Main.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Board" rel="Chapter" href="Board.html">
<link title="Command" rel="Chapter" href="Command.html">
<link title="Piece" rel="Chapter" href="Piece.html">
<link title="State" rel="Chapter" href="State.html">
<link title="Ai" rel="Chapter" href="Ai.html">
<link title="Mlearn" rel="Chapter" href="Mlearn.html">
<link title="Main" rel="Chapter" href="Main.html">
<link title="Authors" rel="Chapter" href="Authors.html"><title>Mlearn</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Ai.html" title="Ai">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Main.html" title="Main">Next</a>
</div>
<h1>Module <a href="type_Mlearn.html">Mlearn</a></h1>

<pre><span id="MODULEMlearn"><span class="keyword">module</span> Mlearn</span>: <code class="code">sig</code> <a href="Mlearn.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="info-desc">
<p>Representation of data for 1 player hard mode</p>
</div>
</div>
<hr width="100%">

<pre><span id="VALpp_string"><span class="keyword">val</span> pp_string</span> : <code class="type">string -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">pp_string s</code> pretty-prints string <code class="code">s</code>.</p>
</div>
</div>

<pre><span id="VALpp_list"><span class="keyword">val</span> pp_list</span> : <code class="type">('a -> string) -> 'a list -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">pp_list pp_elt lst</code> pretty-prints list <code class="code">lst</code>, using <code class="code">pp_elt</code> to
    pretty-print each element of <code class="code">lst</code>.</p>
</div>
</div>

<pre><span id="VALfilename"><span class="keyword">val</span> filename</span> : <code class="type">string</code></pre>
<pre><span id="VALnum_rows"><span class="keyword">val</span> num_rows</span> : <code class="type">int</code></pre>
<pre><span id="VALfirst_gid"><span class="keyword">val</span> first_gid</span> : <code class="type">int</code></pre>
<pre><span id="VALdummy_array"><span class="keyword">val</span> dummy_array</span> : <code class="type">string array array</code></pre>
<pre><span id="VALpopulate_train"><span class="keyword">val</span> populate_train</span> : <code class="type">string -> string array array -> string array array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">populate_train filename train_data</code> is a representation of our data
    stored in the csv file <code class="code">filename</code></p>
</div>
</div>

<pre><span id="VALtrain_data"><span class="keyword">val</span> train_data</span> : <code class="type">string array array</code></pre>
<pre><span id="TYPEvectorized_board_state"><span class="keyword">type</span> <code class="type"></code>vectorized_board_state</span> = <code class="type">int array array array</code> </pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">vectorized_board_state</code> is a 3D int array of shape 9 x 10 x 14 that
    represent the board state. <code class="code">[vectorized_board_state].(0).(0)</code>
    representing 14 unique pieces and is an one-hot representation of
    piece.</p>
</div>
</div>


<pre><span id="TYPEmove"><span class="keyword">type</span> <code class="type"></code>move</span> = <code class="type">(int * int) * (int * int)</code> </pre>
<div class="info ">
<div class="info-desc">
<p><code class="code">move</code> represent a move in a certain round. It has the form ((x1,
    y1),(x2, y2)), the first coordinate is the start of move and the
    second coordinate is the destiny.</p>
</div>
</div>


<pre><span id="VALvec_piece"><span class="keyword">val</span> vec_piece</span> : <code class="type"><a href="Piece.html#TYPErank">Piece.rank</a> -> <a href="Piece.html#TYPEside">Piece.side</a> -> int list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">vec_piece rank side</code> is the one hot representation of a piece of
    <code class="code">rank</code> and from <code class="code">side</code></p>
</div>
</div>

<pre><span id="VALtranslate_lines"><span class="keyword">val</span> translate_lines</span> : <code class="type"><a href="Board.html#TYPEt">Board.t</a> -> int -> int array array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">translate_lines board yaxis</code> takes a single axis <code class="code">yaxis</code> of <code class="code">board</code>
    and turn it into vectorized row.</p>
</div>
</div>

<pre><span id="VALtranslate_board"><span class="keyword">val</span> translate_board</span> : <code class="type"><a href="Board.html#TYPEt">Board.t</a> -> <a href="Mlearn.html#TYPEvectorized_board_state">vectorized_board_state</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">translate_board</code> takes a reference of board and turn it into
    vectorized board.</p>

<p><code class="code">translate_board</code> takes in a complete board for one round and uses
    <code class="code">translate_lines</code> to vectorized it, returns a
    <code class="code">vectorized_baord_state</code> of <code class="code">9 x 10 x 14</code> in size</p>
</div>
</div>

<pre><span id="VALs"><span class="keyword">val</span> s</span> : <code class="type"><a href="State.html#TYPEt">State.t</a></code></pre>
<pre><span id="VALb"><span class="keyword">val</span> b</span> : <code class="type"><a href="Board.html#TYPEt">Board.t</a></code></pre>
<pre><span id="VALvec"><span class="keyword">val</span> vec</span> : <code class="type"><a href="Mlearn.html#TYPEvectorized_board_state">vectorized_board_state</a></code></pre>
<pre><span id="VALsplit"><span class="keyword">val</span> split</span> : <code class="type">string -> string * string * string * string</code></pre>
<pre><span id="VALget_rank"><span class="keyword">val</span> get_rank</span> : <code class="type">string -> <a href="Piece.html#TYPErank">Piece.rank</a> * <a href="Piece.html#TYPEside">Piece.side</a></code></pre><div class="info ">
<div class="info-desc">
<p>return (Piece.rank, Piece.side)</p>
</div>
</div>

<pre><span id="VALstring_of_int_tuple"><span class="keyword">val</span> string_of_int_tuple</span> : <code class="type">int * int -> string</code></pre>
<pre><span id="VALspecial_treatment"><span class="keyword">val</span> special_treatment</span> : <code class="type"><a href="Board.html#TYPEt">Board.t</a> -> string -> string -> int * int</code></pre>
<pre><span id="VALget_start_coord"><span class="keyword">val</span> get_start_coord</span> : <code class="type">string -> <a href="Board.html#TYPEt">Board.t</a> -> string -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_start_coord rank board start_x</code> is the coordinate of the piece
    on column <code class="code">start_x</code> of board <code class="code">board</code> refered by string <code class="code">rank</code></p>
</div>
</div>

<pre><span id="VALlegal"><span class="keyword">val</span> legal</span> : <code class="type">int * int -> int * int -> <a href="State.html#TYPEt">State.t</a> -> bool</code></pre>
<pre><span id="VALget_end_coord"><span class="keyword">val</span> get_end_coord</span> : <code class="type">int * int -> <a href="State.html#TYPEt">State.t</a> -> string -> string -> string -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_end_coord start state oper side end_x</code> is the ending coordinate
    of the piece starting at <code class="code">start</code> after operation <code class="code">oper</code> and <code class="code">end_x</code>
    on board of <code class="code">state</code></p>
</div>
</div>

<pre><span id="VALtranslate_coord"><span class="keyword">val</span> translate_coord</span> : <code class="type"><a href="State.html#TYPEt">State.t</a> Stdlib.ref -> string -> <a href="Mlearn.html#TYPEmove">move</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">translate_coord state_ref move_str</code> is the start and end coord for
    board in <code class="code">state_ref</code> after translating <code class="code">move_str</code></p>
</div>
</div>

<pre><span id="VALstring_of_move"><span class="keyword">val</span> string_of_move</span> : <code class="type">(int * int) * (int * int) -> string</code></pre>
<pre><span id="VALsimulate_round"><span class="keyword">val</span> simulate_round</span> : <code class="type">string array array -> (<a href="Mlearn.html#TYPEvectorized_board_state">vectorized_board_state</a> * <a href="Mlearn.html#TYPEmove">move</a>) array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">simulate_round</code> takes all data for a game of play, simulate the
    game, and output an array of vectorized board with its move of black
    side. Required: the raw input data must include every move in the
    game in the correct order</p>

<p><code class="code">simulate_round</code> takes the input train data and translate each board
    state and move from WXF notation to readable format, run every move
    through <code class="code">State.move</code> to produce the corresponding board state and
    return all information in a <code class="code">(vectorized_board_state * move) array</code></p>
</div>
</div>

<pre><span id="VALcomp"><span class="keyword">val</span> comp</span> : <code class="type">string array -> string array -> int</code></pre>
<pre><span id="VALorder_array"><span class="keyword">val</span> order_array</span> : <code class="type">string array array -> string array array</code></pre>
<pre><span id="VALtest"><span class="keyword">val</span> test</span> : <code class="type">string array array</code></pre>
<pre><span id="VALcal_game_length"><span class="keyword">val</span> cal_game_length</span> : <code class="type">string array array -> int list</code></pre><div class="info ">
<div class="info-desc">
<p>return a list of game length of the dataset</p>

<p><code class="code">cal_game_length</code> calculates the number of total moves in each game,
    returns an int list of size number of games</p>
</div>
</div>
<p><code class="code">data_processing</code> takes in raw data and turns it into the form of
    (vectorized_board_state * move) array</p>

<pre><span id="VALdata_processing"><span class="keyword">val</span> data_processing</span> : <code class="type">string array array -> (<a href="Mlearn.html#TYPEvectorized_board_state">vectorized_board_state</a> * <a href="Mlearn.html#TYPEmove">move</a>) list list</code></pre>
<pre><span id="VALvectorized_data"><span class="keyword">val</span> vectorized_data</span> : <code class="type">(<a href="Mlearn.html#TYPEvectorized_board_state">vectorized_board_state</a> * <a href="Mlearn.html#TYPEmove">move</a>) list list</code></pre>
<pre><span id="VALget_x_y"><span class="keyword">val</span> get_x_y</span> : <code class="type">('a * 'b) list list -> 'a list * 'b list</code></pre>
<pre><span id="VALflatten_board"><span class="keyword">val</span> flatten_board</span> : <code class="type">'a array array array -> 'a list</code></pre>
<pre><span id="VALmake_2d"><span class="keyword">val</span> make_2d</span> : <code class="type"><a href="Mlearn.html#TYPEvectorized_board_state">vectorized_board_state</a> list -> int array array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">make_2d board_list</code> translate 3d int array to 2d int array by
    flattening the board to be a long vector</p>

<p><code class="code">make_2d</code> flattens the 3d list of <code class="code">vectorized_board_state</code> into a 2d
    array array, the shape of 2d array is length of
    <code class="code">vectorized_board_state list</code> x <code class="code">1260</code></p>
</div>
</div>

<pre><span id="VALmake_2d_move"><span class="keyword">val</span> make_2d_move</span> : <code class="type"><a href="Mlearn.html#TYPEmove">move</a> list -> int array array</code></pre>
<pre><span id="VALx_vec"><span class="keyword">val</span> x_vec</span> : <code class="type">int array array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">x_vec</code> is a fully processed <code class="code">int array array</code> of all board status
    from training data</p>
</div>
</div>

<pre><span id="VALy_vec"><span class="keyword">val</span> y_vec</span> : <code class="type">int array array</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">y_vec</code> is a fully processed <code class="code">int array array</code> of all moves from
    training data</p>
</div>
</div>
</body></html>
