<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Piece.html">
<link rel="next" href="Ai.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Board" rel="Chapter" href="Board.html">
<link title="Command" rel="Chapter" href="Command.html">
<link title="Piece" rel="Chapter" href="Piece.html">
<link title="State" rel="Chapter" href="State.html">
<link title="Ai" rel="Chapter" href="Ai.html">
<link title="Mlearn" rel="Chapter" href="Mlearn.html">
<link title="Main" rel="Chapter" href="Main.html">
<link title="Authors" rel="Chapter" href="Authors.html"><title>State</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Piece.html" title="Piece">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Ai.html" title="Ai">Next</a>
</div>
<h1>Module <a href="type_State.html">State</a></h1>

<pre><span id="MODULEState"><span class="keyword">module</span> State</span>: <code class="code">sig</code> <a href="State.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="info-desc">
<p>Representation of dynamic state in Xiangqi.</p>

<p>This module represents the state of a Xiangqi game as it is being
    played, including the player's current coordinates, and functions
    that cause the state to change.</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>


<pre><span id="TYPEstep"><span class="keyword">type</span> <code class="type"></code>step</span> </pre>


<pre><code><span id="TYPEresult"><span class="keyword">type</span> <code class="type"></code>result</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Legal"><span class="constructor">Legal</span></span> <span class="keyword">of</span> <code class="type"><a href="State.html#TYPEt">t</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Illegal"><span class="constructor">Illegal</span></span></code></td>

</tr></table>



<pre><span id="VALget_total_step"><span class="keyword">val</span> get_total_step</span> : <code class="type"><a href="State.html#TYPEstep">step</a> -> int</code></pre>
<pre><span id="VALcheck_winner"><span class="keyword">val</span> check_winner</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> <a href="Piece.html#TYPEside">Piece.side</a> option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">check_win t</code> is whether one side has win the game</p>
</div>
</div>

<pre><span id="VALget_current_board"><span class="keyword">val</span> get_current_board</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> <a href="Board.html#TYPEt">Board.t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_current_board t</code> is the current board configuration for state
    <code class="code">t</code></p>
</div>
</div>

<pre><span id="VALget_current_turn"><span class="keyword">val</span> get_current_turn</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> <a href="Piece.html#TYPEside">Piece.side</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get current turn t</code> is the turn for state <code class="code">t</code></p>
</div>
</div>

<pre><span id="VALget_current_grave"><span class="keyword">val</span> get_current_grave</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> <a href="Board.html#TYPEgraveyard">Board.graveyard</a></code></pre>
<pre><span id="VALget_current_score"><span class="keyword">val</span> get_current_score</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> <a href="Board.html#TYPEscore">Board.score</a></code></pre>
<pre><span id="VALget_current_step"><span class="keyword">val</span> get_current_step</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> <a href="State.html#TYPEstep">step</a></code></pre>
<pre><span id="VALinit_state"><span class="keyword">val</span> init_state</span> : <code class="type"><a href="State.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init_state</code> is the side that starts the game. We initializes it to
    be the <code class="code">Red</code> side</p>
</div>
</div>

<pre><span id="VALmove"><span class="keyword">val</span> move</span> : <code class="type">int * int -> int * int -> <a href="State.html#TYPEt">t</a> -> <a href="State.html#TYPEresult">result</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">move</code> evaluated if the input movement is legal.</p>
</div>
</div>

<pre><span id="VALnon_empty_coord"><span class="keyword">val</span> non_empty_coord</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> option -> bool</code></pre>
<pre><span id="VALoccupied_coord"><span class="keyword">val</span> occupied_coord</span> : <code class="type"><a href="Board.html#TYPEt">Board.t</a> -> int * int -> bool</code></pre>
<pre><span id="VALrules"><span class="keyword">val</span> rules</span> : <code class="type"><a href="Piece.html#TYPEt">Piece.t</a> -> <a href="Piece.html#TYPEcoord">Piece.coord</a> -> <a href="State.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">rules</code> is a bool, judging whether a move of piece <code class="code">p</code> to
    destination coordinate <code class="code">c</code> is legal, currently for player's red
    side, without eating pieces, before acrossing the river.</p>
</div>
</div>
</body></html>
